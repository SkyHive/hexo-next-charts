# hexo-next-charts

è®©åšä¸»åƒå†™é…ç½®ä¸€æ ·å†™å›¾è¡¨ã€‚é€šè¿‡ä¸€è¡Œ Tag æŒ‡ä»¤ï¼Œå°† Markdown ä¸­çš„ YAML æ•°æ®å¯¹è±¡æ˜ å°„ä¸º ECharts è§†å›¾ã€‚

## ğŸŒŸ ç‰¹æ€§

- **ç®€å•æ˜“ç”¨**ï¼šä¸€è¡Œæ ‡ç­¾ `{% echart radar my_skills %}` å³å¯ç”Ÿæˆå›¾è¡¨ã€‚
- **æ•°æ®è§£è€¦**ï¼šä» Front-matter æˆ–å…¨å±€é…ç½®ä¸­è¯»å–æ•°æ®ã€‚
- **æš—é»‘æ¨¡å¼**ï¼šè‡ªåŠ¨é€‚é…ä¸»é¢˜åˆ‡æ¢ï¼ˆæ”¯æŒ Butterfly, Next ç­‰ä¸»æµä¸»é¢˜ï¼‰ã€‚
- **æŒ‰éœ€åŠ è½½**ï¼šä»…åœ¨ä½¿ç”¨å›¾è¡¨çš„é¡µé¢åŠ è½½ ECharts èµ„æºã€‚
- **å“åº”å¼**ï¼šå›¾è¡¨è‡ªåŠ¨è·Ÿéšçª—å£å¤§å°è°ƒæ•´ã€‚
- **æ™ºèƒ½åœ°å›¾åŠ è½½**ï¼šè‡ªåŠ¨ä¸‹è½½å¹¶ç¼“å­˜é«˜ç²¾åº¦ GeoJSONï¼Œæ”¯æŒ CDN å›é€€ã€‚
- **æ ‡å‡†åŸå¸‚ä»£ç **ï¼šæ”¯æŒ UN/LOCODE å’Œ IATA ä»£ç ï¼ˆå¦‚ `CN SHA`, `PVG`ï¼‰ã€‚

## ğŸš€ å®‰è£…

åœ¨ä½ çš„ Hexo æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š

```bash
npm install hexo-next-charts --save
```

## ğŸ“– è¯­æ³•

```markdown
{% echart [type] [data_source] [options] %}
```

- **type**: å›¾è¡¨ç±»å‹ï¼ˆæ”¯æŒ `radar`, `map`, `tree`ï¼‰ã€‚
- **data_source**: æ•°æ®è·¯å¾„ï¼ˆå¯¹åº” Front-matter é‡Œçš„ keyï¼‰ã€‚
- **options**: (å¯é€‰) é”®å€¼å¯¹å‚æ•°ï¼Œå¦‚ `title:"æ ‡é¢˜"` `height:500px` `map:china`ã€‚

### ç¤ºä¾‹ 1ï¼šé›·è¾¾å›¾ (Radar)

**Front-matter:**

```yaml
skills:
  - { label: "Javascript", value: 90 }
  - { label: "Python", value: 85 }
  - { label: "K8s", value: 70 }
```

**Markdown:**

```markdown
{% echart radar skills title:"æˆ‘çš„æŠ€èƒ½" %}
```

### ç¤ºä¾‹ 2ï¼šè¶³è¿¹å›¾ (Map)

**Front-matter:**

```yaml
travels:
  - "CN SHA" # ä¸Šæµ·ï¼ˆUN/LOCODEï¼‰
  - "CN HGH" # æ­å·
  - "SG SIN" # æ–°åŠ å¡
  - { code: "MY PEN", label: "æ§ŸåŸ", effect: true } # é«˜äº®æ˜¾ç¤º
```

**Markdown:**

```markdown
{% echart map travels title:"æˆ‘çš„è¶³è¿¹" map:china %}
```

> **åœ°å›¾ç±»å‹è¯´æ˜**ï¼š
>
> - `map:world` - ä¸–ç•Œåœ°å›¾ï¼ˆé»˜è®¤ï¼Œæ˜¾ç¤ºå›½å®¶è¾¹ç•Œï¼‰
> - `map:china` - ä¸­å›½åœ°å›¾ï¼ˆæ˜¾ç¤ºçœç•Œçº¿ï¼‰
>
> **æ•°æ®æ ¼å¼æ”¯æŒ**ï¼š
>
> - æ ‡å‡†ä»£ç ï¼š`"CN SHA"`, `"PVG"` ç­‰
> - ä¼ ç»Ÿä¸­æ–‡åï¼š`"ä¸Šæµ·"`, `"æ­å·"` ç­‰
> - é«˜çº§å¯¹è±¡ï¼š`{ code: "CN SHA", label: "ä¸Šæµ·", effect: true }`ï¼ˆ`effect` å¯ç”¨æ¶Ÿæ¼ªåŠ¨ç”»ï¼‰

### ç¤ºä¾‹ 3ï¼šæŠ€èƒ½æ ‘ (Tree)

**Front-matter:**

```yaml
skills_tree:
  name: "ç¼–ç¨‹è¯­è¨€"
  children:
    - name: "å‰ç«¯"
      children: [{ name: "Vue" }, { name: "React" }]
    - name: "åç«¯"
      children: [{ name: "Python" }, { name: "Go" }]
```

**Markdown:**

```markdown
{% echart tree skills_tree title:"æŠ€èƒ½æ ‘" %}
```

---

## ğŸ—ºï¸ åœ°å›¾èµ„æºç®¡ç†

æ’ä»¶å†…ç½®äº† **AssetsManager**ï¼Œåœ¨ç”Ÿæˆé™æ€ç«™ç‚¹æ—¶è‡ªåŠ¨å¤„ç†åœ°å›¾æ•°æ®ï¼š

1. **é¦–æ¬¡ç”Ÿæˆ**æ—¶ï¼Œæ£€æµ‹åˆ° `map:china` ä¼šè‡ªåŠ¨ä»é˜¿é‡Œäº‘ DataV CDN ä¸‹è½½é«˜ç²¾åº¦çœç•Œ GeoJSONã€‚
2. **æ–‡ä»¶ç¼“å­˜**åˆ° `<public>/assets/charts/maps/100000_full.json`ã€‚
3. **å‰ç«¯åŠ è½½**ä¼˜å…ˆå°è¯•æœ¬åœ°æ–‡ä»¶ï¼Œå¤±è´¥åˆ™å›é€€åˆ° jsdelivr CDNã€‚

ä½ æ— éœ€æ‰‹åŠ¨ä¸‹è½½ä»»ä½•åœ°å›¾æ–‡ä»¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨å¤„ç†ã€‚

---

## ğŸ›  å¼€å‘ä¸æµ‹è¯•

å¦‚æœä½ æƒ³ä¿®æ”¹æ’ä»¶æˆ–è´¡çŒ®ä»£ç ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤åœ¨æœ¬åœ° Hexo ç¯å¢ƒä¸­è¿›è¡Œæµ‹è¯•ï¼š

### 1. å‡†å¤‡æ’ä»¶æºç 

ç¡®ä¿ä½ åœ¨ `hexo-next-charts` ç›®å½•ä¸­ã€‚

### 2. é“¾æ¥åˆ° Hexo é¡¹ç›®

åœ¨ä½ çš„ **Hexo åšå®¢æ ¹ç›®å½•**ä¸­ï¼Œä½¿ç”¨ `npm link` æŒ‚è½½æœ¬åœ°å¼€å‘çš„æ’ä»¶ï¼š

```bash
# åœ¨ hexo-next-charts ç›®å½•è¿è¡Œ
npm link

# è¿›å…¥ä½ çš„ Hexo åšå®¢æ ¹ç›®å½•è¿è¡Œ
npm link hexo-next-charts
```

### 3. é…ç½®æµ‹è¯•æ•°æ®

åœ¨ Hexo çš„ä¸€ç¯‡æ–‡ç« ä¸­æ·»åŠ ç‚¹æµ‹è¯•æ•°æ®ï¼š

```yaml
---
title: Chart Test
layout: post
my_chart_data:
  - { label: "A", value: 50 }
  - { label: "B", value: 80 }
---
{ % echart radar my_chart_data % }
```

### 4. è¿è¡Œ Hexo

```bash
hexo clean && hexo s
```

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:4000` æŸ¥çœ‹æ•ˆæœã€‚

### 5. è¿è¡Œå†…ç½®éªŒè¯è„šæœ¬

æœ¬ä»“åº“æä¾›äº†ä¸€ä¸ªç®€å•çš„è„šæœ¬æ¥éªŒè¯æ ¸å¿ƒé€»è¾‘ï¼ˆæ•°æ®è§£æã€æ ‡ç­¾æ¸²æŸ“ã€æ³¨å…¥é€»è¾‘ï¼‰ï¼š

```bash
node verify.js
```

## æ‰©å±•å›¾è¡¨

ä½ å¯ä»¥é€šè¿‡åœ¨ `lib/charts/` ç›®å½•ä¸‹æ·»åŠ æ–°çš„ JS æ–‡ä»¶æ¥æ‰©å±•å›¾è¡¨ç±»å‹ã€‚æ¯ä¸ªæ–‡ä»¶å¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶åŸå§‹æ•°æ®å¹¶è¿”å› ECharts çš„ `option` å¯¹è±¡ã€‚

---

## License

MIT
